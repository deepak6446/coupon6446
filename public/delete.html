
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
 
<script type="text/javascript">
 
var geocoder = new google.maps.Geocoder();
//var address = "newtown kolkata";
var latitude=new Array();
var longitude=[];
var i=0,j=0;
var longlag=function(address){
       geocoder.geocode({ 'address': address}, function(results, status) {
      
         if (status == google.maps.GeocoderStatus.OK) {
           latitude[i] = results[0].geometry.location.lat();
           longitude[i] = results[0].geometry.location.lng();
           console.log("test current",latitude[i]);
           i++;
          
         }
       });
}
 
 
//longlag("newtown kolkata"); ;
function getdistance(address1,address2){
      
       longlag(address1);
       console.log("1st",latitude[0]);
       longlag(address2);
       console.log("2nd",latitude);
       console.log("asdasda",typeof latitude);
}

console.log("array",latitude);
function distance(lat1,lon1,lat2,lon2,unit) {
      
    var radlat1 = Math.PI * lat1/180
    console.log(typeof radlat1);
    console.log("test in distance",lat1);
    var radlat2 = Math.PI * lat2/180
    var radlon1 = Math.PI * lon1/180
    var radlon2 = Math.PI * lon2/180
    var theta = lon1-lon2
    var radtheta = Math.PI * theta/180
    var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);
    dist = Math.acos(dist)
    dist = dist * 180/Math.PI
    dist = dist * 60 * 1.1515
   
    if (unit=="K") { dist = dist * 1.609344 }
    if (unit=="N") { dist = dist * 0.8684 }
    return dist
}
getdistance("newtown kolkata","tcpx kolkata");
var distance = distance(latitude[0],longitude[0],latitude[1],longitude[1],"K");
console.log(distance);
</script>